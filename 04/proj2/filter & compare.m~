s = ['0x1CCB,0x0D86,0xF408,0x895D,0x38AE,0x0775,0x463D',...
'0x12AC,0x92E6,0x0D71,0xD3E9,0x5B96,0x31AC,0xC3DE',...
'0xFD27,0x9CAD,0x48E6,0x34E6,0x045D,0x100E,0x80A5',...
'0x212F,0x1138,0x3450,0x365D,0x9025,0x02DD,0xD403',...
'0x3ED1,0x524D,0xC2E4,0x048C,0x9B78,0x2681,0x4AF7',...
'0xFD0C,0x26C1,0x8464,0x0350,0x1C41,0x2038,0x5380',...
'0x98C8,0xF30A,0xD9FC,0x1DE8,0x6BF5,0xC9EC,0x065D',...
'0xA43A,0x0000,0x5BC6,0xF9A3,0x3614,0x940B,0xE218',...
'0x2604,0x0CF6,0x6738,0xAC80,0xDFC8,0xE3BF,0xFCB0',...
'0x7B9C,0xD93F,0x02F4,0xB509,0xD97F,0x6488,0xFB74',...
'0x3D1C,0xADB3,0xC12F,0x2BFD,0xFD23,0x6FDB,0xC9A3',...
'0xCBB0,0xEEC8,0xDED1,0x7F5B,0xEFF2,0xFBA3,0xCB1A',...
'0xB71A,0x6353,0x02D9,0x3C22,0xCE54,0xA46A,0x2C17',...
'0xF28F,0x6D1A,0xED54,0xB9C3,0xF88B,0xC752,0x76A3',...
'0x0BF8,0xF27A,0xE335'];

dsp_results = [1364 2491 -501 -11102 -11237 6508 28485 16169 -17783 ...
    -32768 -7637 32767 32767 -470 -32768 -30581 3372 32767 ...
    17860 -17928 -32768 -6196 31780 32767 -2557 -32768 -32768 ...
    -642 32767 32767 468 -32768 -32768 988 32767 24539 ...
    -10816 -32768 -8034 27265 32767 -984 -32768 -32768 3409 ...
    32767 32767 -4090 -32768 -32768 3343 32767 31246 -1276 ...
    -32768 -26697 6535 32767 21622 -12575 -32768 -10970 25971 ...
    32767 -255 -32768 -32768 4544 32767 32767 -325 -32768 ...
    -32768 -359 32767 32767 -485 -32768 -28942 6318 32767 ...
    10857 -24282 -32768 -1381 32767 32767 -3218 -32768 -32768 ...
    4486 32767 32767 -3654 -32768 -32768 -1263 32767 30347 ...
    -2636 -32768]';

x = [];
k = 1;
while(k<length(s))
    temp = hex2dec(s(k+2:k+5));
    if(temp>hex2dec('8000')) temp = temp - hex2dec('FFFF'); end
    x = [x; temp];
    k = k + 7;
end

% these are the coefficients for the filters
a1 = [1,-0.6645,0.8076];
a2 = [1,-0.8839,0.6449];	
a3 = [1,-1.2399,0.8438];

b1 = [1,0,-1]/1.7544;
b2 = [1,0.322,1]/1.7544;
b3 = [1,-1.7544,1]/1.7544;

w1 = filter(b1,a1,x);
w2 = filter(b2,a2,w1);
matlab_results = filter(b3,a3,w2);

% calculate the error
delta=(dsp_results - matlab_results) ./ matlab_results;

plot(delta);
